
//This file should be called F_TradingEnforcer.h
//This is autogenerated code. Edit by hand at your peril!

#include <stdint.h>
#include <stdbool.h>
#include <assert.h>

//the dtimer_t type
typedef uint64_t dtimer_t;

//For each policy, we need an enum type for the state machine

enum TradingEnforcer_policy_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_states { 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s0_comma_s0_comma_s0_comma_s0_comma_s0, 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s1_comma_s0_comma_s0_comma_s0_comma_s0, 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s2_comma_s0_comma_s0_comma_s0_comma_s0, 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s3_comma_s0_comma_s0_comma_s0_comma_s0, 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s4_comma_s0_comma_s0_comma_s0_comma_s0, 
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_s5_comma_s0_comma_s0_comma_s0_comma_s0,
	POLICY_STATE_TradingEnforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_violation 
};


//Inputs to the function TradingEnforcer
typedef struct {
	bool dd_exceeded;
	bool is_illiquid;
	bool will_exceed_limit;
	bool price_deviates;
	
} inputs_TradingEnforcer_t;

//Outputs from the function TradingEnforcer
typedef struct {
	bool act_TRADE;
	bool act_BUY;
	
} outputs_TradingEnforcer_t;

//enforcer state and vars:
typedef struct {
	enum TradingEnforcer_policy_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_states _policy_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_state;
	//internal vars
	dtimer_t t_window;
	
	
	
} enforcervars_TradingEnforcer_t;


#define CONST_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade_T_WINDOW 5


//This function is provided in "F_TradingEnforcer.c"
//It sets up the variable structures to their initial values
void TradingEnforcer_init_all_vars(enforcervars_TradingEnforcer_t* me, inputs_TradingEnforcer_t* inputs, outputs_TradingEnforcer_t* outputs);

//This function is provided in "F_TradingEnforcer.c"
//It will run the synthesised enforcer and call the controller function
void TradingEnforcer_run_via_enforcer(enforcervars_TradingEnforcer_t* me, inputs_TradingEnforcer_t* inputs, outputs_TradingEnforcer_t* outputs);

//This function is provided from the user
//It is the controller function
extern void TradingEnforcer_run(inputs_TradingEnforcer_t* inputs, outputs_TradingEnforcer_t* outputs);

//enforcer functions


//This function is provided in "F_TradingEnforcer.c"
//It will run the input enforcer for TradingEnforcer's policy Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade
void TradingEnforcer_run_input_enforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade(enforcervars_TradingEnforcer_t* me, inputs_TradingEnforcer_t* inputs);

//This function is provided in "F_TradingEnforcer.c"
//It will run the input enforcer for TradingEnforcer's policy Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade
void TradingEnforcer_run_output_enforcer_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade(enforcervars_TradingEnforcer_t* me, inputs_TradingEnforcer_t* inputs, outputs_TradingEnforcer_t* outputs);

//This function is provided in "F_TradingEnforcer.c"
//It will check the state of the enforcer monitor code
//It returns one of the following:
//0: currently true (safe)
//1: always true (safe)
//-1: currently false (unsafe)
//-2: always false (unsafe)
//It will need to do some reachability analysis to achieve this
int TradingEnforcer_check_rv_status_Product_of_Product_of_Product_of_Product_of_RateLimit_5_per_1s_and_LatchingKillSwitch_and_RejectDeviantPrice_and_BlockConcentratedBuy_and_BlockIlliquidTrade(enforcervars_TradingEnforcer_t* me);


